<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pavens Vannkraftarbeidere!</title>
    <link rel="stylesheet" href="Style.css">
    <script src="https://cdn.plot.ly/plotly-2.6.3.min.js"></script>
    <script src="api.js"></script>
</head>
<body>

    <script>
        function Choose(showID){
          let hideID = document.getElementsByClassName("hiddenElement");
          for(let i = 0; i < hideID.length; i++){
            hideID[i].style.display = "none";
            console.log("hide " + i)
          }
            for(let i = 0; i < hideID.length; i++){
            document.getElementById(showID[i]).style.display = "flex";
            console.log("show " + i)
          }
        }
    </script>
    
    <div class="mainDiv">
        <div id="sidebar">
            <button id="menuButton">
                <div></div>
                <div></div>
                <div></div>
            </button>

            <div id="sidebarContent">
                <img class="title" src="media/Holywater.png" width="70%" onclick="Choose([''])">
                <a href="#" class="button" onclick="Choose(['waterLevelRoom'])">Water Level</a>
                <a href="#" class="button" onclick="Choose(['income'])">Income</a>
            </div>
        </div>

        <div id="bubbleDiv">
            <div id="filter_blur">
                <div id="waterLevelRoom" class="waterLevelRoom hiddenElement">
                    <div id="waterLevel" class="waterLevel">
                        <script>
                            const config = {
                                displayModeBar: false,
                            };
                            groupState().then(value => {
                                var trace1 = {
                                    x: ['Vannstand'],
                                    y: [20],
                                    name: 'Min. Vannstand',
                                    type: 'bar'
                                };

                                var trace2 = {
                                    x: ['Vannstand'],
                                    y: [value.waterLevel],
                                    name: 'Vannstand',
                                    type: 'bar'
                                };

                                var trace3 = {
                                    x: ['Vannstand'],
                                    y: [40],
                                    name: 'Max. Vannstand',
                                    type: 'bar'
                                };

                                var data = [trace1, trace2, trace3];


                                var layout = {
                                    barmode: 'group',
                                    autosize: false,
                                    width: 593,
                                    height: 710,
                                    xaxis: {fixedrange: true},
                                    yaxis: {fixedrange: true}
                                };

                                Plotly.newPlot('waterLevel', data, layout, config);
                            });
                        </script>
                    </div>
                

                    <div class="waterInfluxAndTurbinCount">
                        <div id="waterInflux" class="waterInflux">
                            <script>
                                groupState().then(value => {
                                    var trace1 = {
                                        x: [1, 2, 3, 4],
                                        y: [value, value, value, value],
                                        type: 'scatter'
                                        };

                                    var data = [trace1];

                                    var layout = {
                                            autosize: false,
                                            width: 593,
                                            height: 355,
                                            xaxis: {fixedrange: true},
                                            yaxis: {fixedrange: true}
                                        };

                                    Plotly.newPlot('waterInflux', data, layout, config);
                                });
                            </script>
                        </div>

                        <div class="turbinCount">
                            <img src="media/turbin.png" height="190px">
                            <p>= 12x</p>
                        </div>
                    </div>
                </div>
            </div>


            <div id="income" class="income hiddenElement">
                
            </div>

            </div>

            <button id="turbin_tab"><img src="media/arrow_left.png"></button>
            <div id="turbinpannel">
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div><img src="media/turbin.png"></div>
                <div></div>
            </div>
        </div>
    </div>


    <script src="bubble_animation.js"></script>
    <script src="graph.js"></script>
    <script src="sidebar.js"></script>
    <script src="turbine_tab_animation.js"></script>
</body>
</html>
